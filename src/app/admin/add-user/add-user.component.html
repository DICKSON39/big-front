<div class="add-user-container">
  <form [formGroup]="addUserForm" (ngSubmit)="onSubmit()">
    <h2>Add New User</h2>
    <p>Fill in the details for the new user (student, teacher, or admin).</p>

    <div class="form-group">
      <label for="first_name">First Name</label>
      <input type="text" id="first_name" formControlName="first_name" />
      <small *ngIf="f['first_name'].touched && f['first_name'].errors?.['required']">First Name is required</small>
    </div>

    <div class="form-group">
      <label for="last_name">Last Name</label>
      <input type="text" id="last_name" formControlName="last_name" />
      <small *ngIf="f['last_name'].touched && f['last_name'].errors?.['required']">Last Name is required</small>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" formControlName="email" />
      <small *ngIf="f['email'].touched && f['email'].errors?.['required']">Email is required</small>
      <small *ngIf="f['email'].touched && f['email'].errors?.['email']">Enter a valid email address</small>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" id="password" formControlName="password" />
      <small *ngIf="f['password'].touched && f['password'].errors?.['required']">Password is required</small>
      <small *ngIf="f['password'].touched && f['password'].errors?.['minlength']">Password must be at least 6 characters</small>
    </div>

    <div class="form-group">
      <label for="role_name">Role</label>
      <select id="role_name" formControlName="role_name">
        <option *ngFor="let role of roles" [value]="role">{{ role | titlecase }}</option>
      </select>
      <small *ngIf="f['role_name'].touched && f['role_name'].errors?.['required']">Role is required</small>
    </div>

    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>
    <div *ngIf="successMessage" class="success-message">
      {{ successMessage }}
    </div>

    <button type="submit" class="btn" [disabled]="addUserForm.invalid || isLoading">
      <span *ngIf="isLoading">Adding User...</span>
      <span *ngIf="!isLoading">Add User</span>
    </button>

    <p class="back-link">
      <a routerLink="/admin">Back to Dashboard</a>
    </p>
  </form>
</div>
